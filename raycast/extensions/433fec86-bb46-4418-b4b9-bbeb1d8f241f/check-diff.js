"use strict";var I=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var R=(n,e)=>{for(var t in e)I(n,t,{get:e[t],enumerable:!0})},J=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of M(e))!C.call(n,i)&&i!==t&&I(n,i,{get:()=>e[i],enumerable:!(r=q(e,i))||r.enumerable});return n};var V=n=>J(I({},"__esModule",{value:!0}),n);var k={};R(k,{default:()=>j});module.exports=V(k);var d=require("@raycast/api");function v(){}v.prototype={diff:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var l=this;function f(a){return i?(setTimeout(function(){i(void 0,a)},0),!0):a}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,o=e.length,s=1,w=u+o,c=[{newPos:-1,components:[]}],g=this.extractCommon(c[0],t,e,0);if(c[0].newPos+1>=u&&g+1>=o)return f([{value:this.join(t),count:t.length}]);function L(){for(var a=-1*s;a<=s;a+=2){var p=void 0,m=c[a-1],x=c[a+1],N=(x?x.newPos:0)-a;m&&(c[a-1]=void 0);var E=m&&m.newPos+1<u,b=x&&0<=N&&N<o;if(!E&&!b){c[a]=void 0;continue}if(!E||b&&m.newPos<x.newPos?(p=X(x),l.pushComponent(p.components,void 0,!0)):(p=m,p.newPos++,l.pushComponent(p.components,!0,void 0)),N=l.extractCommon(p,t,e,a),p.newPos+1>=u&&N+1>=o)return f(U(l,p.components,t,e,l.useLongestToken));c[a]=p}s++}if(i)(function a(){setTimeout(function(){if(s>w)return i();L()||a()},0)})();else for(;s<=w;){var F=L();if(F)return F}},pushComponent:function(e,t,r){var i=e[e.length-1];i&&i.added===t&&i.removed===r?e[e.length-1]={count:i.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},extractCommon:function(e,t,r,i){for(var l=t.length,f=r.length,u=e.newPos,o=u-i,s=0;u+1<l&&o+1<f&&this.equals(t[u+1],r[o+1]);)u++,o++,s++;return s&&e.components.push({count:s}),e.newPos=u,o},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function U(n,e,t,r,i){for(var l=0,f=e.length,u=0,o=0;l<f;l++){var s=e[l];if(s.removed){if(s.value=n.join(r.slice(o,o+s.count)),o+=s.count,l&&e[l-1].added){var c=e[l-1];e[l-1]=e[l],e[l]=c}}else{if(!s.added&&i){var w=t.slice(u,u+s.count);w=w.map(function(L,F){var a=r[o+F];return a.length>L.length?a:L}),s.value=n.join(w)}else s.value=n.join(t.slice(u,u+s.count));u+=s.count,s.added||(o+=s.count)}}var g=e[f-1];return f>1&&typeof g.value=="string"&&(g.added||g.removed)&&n.equals("",g.value)&&(e[f-2].value+=g.value,e.pop()),e}function X(n){return{newPos:n.newPos,components:n.components.slice(0)}}var ee=new v;var O=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,z=/\S/,D=new v;D.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!z.test(n)&&!z.test(e)};D.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&O.test(e[t])&&O.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};var A=new v;A.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var i=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function W(n,e,t){return A.diff(n,e,t)}var Z=new v;Z.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};var B=new v;B.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function H(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(e){return typeof e}:H=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(n)}var G=Object.prototype.toString,y=new v;y.useLongestToken=!0;y.tokenize=A.tokenize;y.castInput=function(n){var e=this.options,t=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(l,f){return typeof f>"u"?t:f}:r;return typeof n=="string"?n:JSON.stringify(S(n,null,null,i),i,"  ")};y.equals=function(n,e){return v.prototype.equals.call(y,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function S(n,e,t,r,i){e=e||[],t=t||[],r&&(n=r(i,n));var l;for(l=0;l<e.length;l+=1)if(e[l]===n)return t[l];var f;if(G.call(n)==="[object Array]"){for(e.push(n),f=new Array(n.length),t.push(f),l=0;l<n.length;l+=1)f[l]=S(n[l],e,t,r,i);return e.pop(),t.pop(),f}if(n&&n.toJSON&&(n=n.toJSON()),H(n)==="object"&&n!==null){e.push(n),f={},t.push(f);var u=[],o;for(o in n)n.hasOwnProperty(o)&&u.push(o);for(u.sort(),l=0;l<u.length;l+=1)o=u[l],f[o]=S(n[o],e,t,r,o);e.pop(),t.pop()}else f=n;return f}var T=new v;T.tokenize=function(n){return n.slice()};T.join=T.removeEmpty=function(n){return n};function $(n,e){let r=W(n+`
`,e+`
`).map(i=>i.value.split(`
`).map(f=>f?`${Q(i)} ${f}`:"").join(`
`)).join("");return r.substring(0,r.length-1)}function Q(n){return n.added?">>>":n.removed?"<<<":"     "}var h=require("react/jsx-runtime");function Y(){let{push:n}=(0,d.useNavigation)();return(0,h.jsxs)(d.Form,{actions:(0,h.jsx)(d.ActionPanel,{children:(0,h.jsx)(d.Action.SubmitForm,{title:"Find Difference",icon:d.Icon.Eye,onSubmit:e=>{let{original:t,changed:r}=e;t===r?(0,d.showToast)({title:"Files are identical"}):n((0,h.jsx)(K,{original:e.original,changed:e.changed}))}})}),children:[(0,h.jsx)(d.Form.TextArea,{title:"Original Text",id:"original"}),(0,h.jsx)(d.Form.TextArea,{title:"Changed Text",id:"changed"})]})}function K(n){let{original:e,changed:t}=n,i=`
  ## Diff

  \`\`\`
${$(e,t)}
  \`\`\``;return(0,h.jsx)(d.Detail,{markdown:i})}var j=Y;
